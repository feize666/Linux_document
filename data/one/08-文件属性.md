## 1ã€æ—¥å¸¸å·¥ä½œæ€»ç»“

### 1.1ã€ä¸Šå‘¨å·¥ä½œæ€»ç»“





### 1.2ã€ä»Šæ—¥å·¥ä½œå†…å®¹

- æ–‡ä»¶ç±»å‹
- æ‰“åŒ…å‹ç¼©å‘½ä»¤
- æ—¶é—´ç›¸å…³
- é¢è¯•é¢˜ï¼šè½¯ç¡¬è¿æ¥çš„åŒºåˆ«





## 2ã€æ–‡ä»¶å±æ€§ä¸“é¢˜

### 2.1ã€æ–‡ä»¶å±æ€§



![image-20250506090019996](assets/image-20250506090019996.png)



### 2.2ã€æ–‡ä»¶ç»„æˆ

![image-20250506162748586](assets/image-20250506162748586.png)

#### 2.2.1ã€inodeå«ä¹‰



index node ç´¢å¼•èŠ‚ç‚¹å­˜æ”¾å±æ€§ä¿¡æ¯ï¼Œä¾‹å¦‚å¤§å°,æ‰€æœ‰è€…,æƒé™,æ—¶é—´.....å­˜æ”¾äº†blockçš„ä½ç½®.


#### 2.2.2ã€inodeç‰¹ç‚¹

> - **å®šä¹‰**ï¼šæ¯åˆ›å»º1ä¸ªæ–°æ–‡ä»¶å°±å ç”¨1ä¸ªinodeï¼Œå®ƒçš„æ€»æ•°é‡åœ¨ç£ç›˜åˆ†åŒºæ ¼å¼åŒ–åå›ºå®š
> - **æŸ¥çœ‹**ï¼šinodeæ€»æ•°ä¸å‰©ä½™æ•°é‡
> - **æ•…éšœæ¡ˆä¾‹**ï¼šinodeç”¨å…‰äº†ï¼Œç£ç›˜ç©ºé—´ä¸è¶³ç­‰



#### 2.2.3ã€blockæ•°æ®å—

> - **å®šä¹‰**ï¼šblockå­˜æ”¾æ•°æ®çš„åœ°æ–¹ï¼ˆæ•°æ®å®ä½“ï¼‰
> - **è§„æ ¼**ï¼š4k 1ä¸ªblockï¼Œå¤§å°å¯ä»¥æ”¹å˜ï¼Œéœ€è¦æ ¼å¼åŒ–åå†è°ƒæ•´
> - **æŸ¥çœ‹**ï¼šblockçš„ä½¿ç”¨æƒ…å†µï¼Œæ—¥å¸¸çœ‹ç¡¬ç›˜è¿˜æœ‰å¤šå°‘ç©ºé—´ï¼Œä¸€èˆ¬æƒ…å†µä¸‹çš„ç£ç›˜ç©ºé—´ä¸è¶³åŸºæœ¬éƒ½æ˜¯blockä¸è¶³

#### 2.2.4ã€æŸ¥çœ‹ç£ç›˜çš„inodeå’Œblock

- **ç®€å•æŸ¥çœ‹**

```bash
# 1.æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰ç£ç›˜çš„blockå¤§å°ä½¿ç”¨æƒ…å†µ
df -h

# 2.æŸ¥çœ‹inodeå·
df -i
```

- **å¦‚æœç©ºé—´ä¸è¶³ï¼ˆç£ç›˜ç©ºé—´ä¸è¶³ï¼‰çš„æ’æŸ¥æµç¨‹**

```sh
# 1.æŸ¥çœ‹ç£ç›˜ç©ºé—´å¤§å°
df -h

# 2.æ£€æŸ¥ä¸è¶³çš„åˆ†åŒºï¼Œä¸€å±‚ä¸€å±‚çš„å»æ£€æŸ¥å®šä½åˆ°ç›®å½•æˆ–æ–‡ä»¶
du -sh /* |sort -hrk1|head
du -sh /usr/* |sort -hrk1|head
du -sh /usr/lib/* |sort -hrk1|head

# 3.æŒ‰ç…§å±‚çº§æ£€æŸ¥ä¹‹åçš„åŠ¨ä½œ

```

2.3ã€æ–‡ä»¶ç±»å‹

#### 2.3.1ã€æ–‡ä»¶ç±»å‹çš„åˆ†ç±»

| ç±»å‹        | è¯´æ˜                                                         |
| ----------- | ------------------------------------------------------------ |
| `- ï¼ˆfï¼‰`   | æ–‡ä»¶file                                                     |
| `d`         | ç›®å½• directory                                               |
| `lï¼ˆlinkï¼‰` | è½¯è¿æ¥                                                       |
| `b`         | å—è®¾å¤‡ block device ç¡¬ç›˜/ç£ç›˜/åˆ†åŒº                           |
| `c`         | å­—ç¬¦è®¾å¤‡ï¼Œcharcter device ä¸æ–­è¾“å‡ºæˆ–å¸æ”¶å­—ç¬¦çš„è®¾å¤‡ï¼ˆç±»ä¼¼äºé»‘æ´ï¼Œç™½æ´ï¼‰/dev/zero åˆ›å»ºæŒ‡å®šå¤§å°çš„æ–‡ä»¶ |

#### 2.3.2ã€fileæŸ¥çœ‹æ–‡ä»¶ç›®å½•è¯¦ç»†ç±»å‹

- æ–‡æœ¬æ–‡ä»¶ text å¯ä»¥æŸ¥çœ‹ä¿®æ”¹ï¼ˆcat/vimï¼‰
- æ•°æ®æ–‡ä»¶ data
- å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯æ•²çš„å‘½ä»¤ï¼‰executableï¼Œä¸€èˆ¬å°±æ˜¯å‘½ä»¤ï¼Œç›´æ¥è¿è¡Œå³å¯

```sh
file /etc/hostname  libunistring-0.9.10-8.ky10.x86_64.rpm  one
#è¿”å›ç»“æœå¦‚ä¸‹
/etc/hostname:                         ASCII text
libunistring-0.9.10-8.ky10.x86_64.rpm: RPM v3.0 bin i386/x86_64
one:                                   directory
```

- åˆ›å»º2Gçš„æ–‡ä»¶æµ‹è¯•
- éœ€è¦ä½¿ç”¨/dev/zeroæ–‡ä»¶ï¼Œä¸æ–­è¾“å‡º0ï¼Œè¿™ä¸ªæ–‡ä»¶éœ€è¦ç»“åˆç‰¹å®šçš„å‘½ä»¤ä½¿ç”¨
- **ğŸŒddå‘½ä»¤çš„ä½œç”¨**ï¼šåˆ›å»ºæŒ‡å®šå¤§å°çš„æ–‡ä»¶ï¼Œæµ‹è¯•ç£ç›˜é€Ÿåº¦

```sh
dd if=/dev/zero of=/var/log/test.txt bs=1M count=2048
```

> **if===input fileæŒ‡å®šä»å“ªé‡Œè·å–æ•°æ®ï¼ˆæ•°æ®æºï¼‰ï¼Œæºå¤´æ˜¯å“ªé‡Œ**
> **of===output fileåˆ°å“ªé‡Œå»ï¼ˆåˆ›å»ºçš„æ–‡ä»¶ä¿å­˜çš„åœ°æ–¹ï¼‰**
> **bs===block	sizeæ¯æ¬¡è¯»å–å¤šå°‘æ•°æ®**
> **count å¾ªç¯å–æ¬¡æ•°ï¼Œå¦‚æœæ˜¯2Gï¼Œç»“åˆsizeæ¯æ¬¡å–1Mï¼Œéœ€è¦å–2048æ¬¡**

### 2.4ã€è½¯è¿æ¥â­â­â­â­â­

- è½¯è¿æ¥
- ç¡¬é“¾æ¥

#### 2.4.1ã€è½¯è¿æ¥çš„å«ä¹‰

- è½¯è¿æ¥ï¼ˆsoftlinkï¼‰ï¼Œç¬¦å·è¿æ¥ï¼ˆsymlinkï¼‰

- ä½œç”¨ç±»ä¼¼äºwindowsç³»ç»Ÿä¸‹é¢çš„å¿«æ·æ–¹å¼ï¼Œæ–¹ä¾¿å‘½ä»¤æ“ä½œ

- å­˜æ”¾æºæ–‡ä»¶çš„è·¯å¾„åå­—



#### 2.4.2ã€åˆ›å»ºè½¯è¿æ¥

æ¡ä»¶ï¼šç»™/oldboy/oldboy.txtåˆ›å»ºè½¯è¿æ¥/oldboy/oldboy.txt.soft

**ğŸŒ1.ä¿®æ”¹æ–‡ä»¶å†…å®¹åï¼Œè½¯è¿æ¥æ˜¯ä¸æºæ–‡ä»¶æ•°æ®åŒæ­¥çš„**

**ğŸŒ2.å¹¶ä¸”åˆ é™¤è½¯è¿æ¥åä¸å½±å“æºæ–‡ä»¶**

```sh
touch /oldboy/oldboy.txt
ln -s /oldboy/oldboy.txt /oldboy/oldboy.txt.soft
```



### 2.5ã€ç¡¬é“¾æ¥

**å«ä¹‰ï¼šåœ¨åŒä¸€ä¸ªåˆ†åŒºä¸­inodeå·ç ç›¸åŒçš„æ–‡ä»¶äº’ä¸ºç¡¬é“¾æ¥**

![image-20250506114145398](assets/image-20250506114145398.png)

- lnåˆ›å»ºç¡¬é“¾æ¥

```sh
vim oldboy.txt
ln oldboy.txt oldboy.txt.haed
ll oldboy.txt
-rw-r--r-- 2 root root 50 May  6 11:42 oldboy.txt
ll oldboy.txt*
-rw-r--r-- 2 root root 50 May  6 11:42 oldboy.txt
-rw-r--r-- 2 root root 50 May  6 11:42 oldboy.txt.haed
ll -i oldboy.txt*
67291904 -rw-r--r-- 2 root root 50 May  6 11:42 oldboy.txt
67291904 -rw-r--r-- 2 root root 50 May  6 11:42 oldboy.txt.haed
```

### 2.6ã€è½¯ç¡¬é“¾æ¥åŒºåˆ«

![image-20250506115718882](assets/image-20250506115718882.png)

> - **è½¯è¿æ¥ä½¿ç”¨æœ€å¹¿æ³›ï¼Œå¯¹æ–‡ä»¶ç›®å½•éƒ½å¯ä»¥åˆ›å»º**
>
> - **ç¡¬é“¾æ¥`åªå…è®¸`å¯¹æ–‡ä»¶åˆ›å»º**
>
> - **åˆ é™¤æºæ–‡ä»¶ï¼Œè½¯è¿æ¥å¤±æ•ˆåä¼šå˜çº¢ï¼Œå¦‚æœåˆ é™¤è½¯è¿æ¥æ²¡æœ‰å½±å“ï¼ŒåŒæ—¶åˆ é™¤è½¯è¿æ¥å’Œæºæ–‡ä»¶ï¼Œæ–‡ä»¶æ— æ³•è®¿é—®**
>
> - **å¦‚æœåˆ é™¤äº†æºæ–‡ä»¶ï¼Œéšååˆ›å»ºå’Œä¹‹å‰æºæ–‡ä»¶åŒåçš„æ–‡ä»¶è¿˜å¯ä»¥ä½¿ç”¨è½¯è¿æ¥**

<img src="assets/image-20250506115955151.png" alt="image-20250506115955151" style="zoom:30%;" />





## 3ã€æ—¶é—´

- 3ç±»/4ç±»æ—¶é—´
- æŸ¥çœ‹ä¸ä¿®æ”¹æ—¶é—´çš„å‘½ä»¤

| Linuxæ—¶é—´åˆ†ç±»     | è¯´æ˜                                                         |      |
| ----------------- | ------------------------------------------------------------ | ---- |
| ğŸŒä¿®æ”¹æ—¶é—´mtime    | modifyä¿®æ”¹æ—¶é—´ï¼Œæ–‡ä»¶å†…å®¹ä¿®æ”¹æ—¶æœ€åº”è¯¥å…³æ³¨çš„                   |      |
| è®¿é—®æ—¶é—´atime     | accessè®¿é—®ï¼ŒæŸ¥çœ‹ä¸‹æ–‡ä»¶ï¼Œæ–‡ä»¶æ—¶é—´çš„å˜åŒ–ï¼Œ<br />mtimeå˜åŒ–åatimeæ‰èƒ½å˜åŒ–ï¼Œæ˜¯æœ‰é™åˆ¶çš„ |      |
| å±æ€§å˜åŒ–æ—¶é—´ctime | æ–‡ä»¶å±æ€§ä¿¡æ¯å˜åŒ–çš„æ—¶é—´                                       |      |
| åˆ›å»ºæ—¶é—´btime     | éœ€è¦å†æ–°çš„å†…æ ¸ç³»ç»Ÿä¸­æ‰æœ‰                                     |      |

### 3.1ã€dateæŸ¥çœ‹æ—¶é—´

**å•ç‹¬è¿è¡Œdateå¯ä»¥æŸ¥çœ‹æ—¶é—´**

```sh
date
```

- **ä»¥å¹´-æœˆ-æ—¥çš„å½¢å¼æ˜¾ç¤ºå½“å‰æ—¥æœŸ**

- **+è¡¨ç¤ºä»¥xxxæ ¼å¼æ˜¾ç¤º**

```sh
date +%F ç›¸å½“äº date +%Y+%m-%d
date +%T ç›¸å½“äº date +%H+%M-%S
date +%w å‘¨å‡  å‘¨1...6 å‘¨æ—¥ä¸º0
```

> ç”¨äºåˆ›å»ºæ–‡ä»¶,ç›®å½•,å‹ç¼©åŒ….æ‰“åŒ…å¤‡ä»½.

- ç»„åˆä½¿ç”¨ï¼šå¹´-æœˆ-æ—¥-æ—¶é—´

```sh
date +%F-%T
# è¿”å›ç»“æœ
2025-05-06-16:31:26
```

### 3.2ã€dateä¿®æ”¹æ—¶é—´

```sh
date s '20251111 11:11:11'
```



### 3.3ã€ntpdateè‡ªåŠ¨åŒæ­¥æ—¶é—´

**è™½ç„¶å¯ä»¥åŒæ­¥æ—¶é—´ä½†æ— æ³•ä¿®æ”¹æ—¶åŒºï¼Œéœ€è¦å®‰è£…ntpdateæ—¶é—´æœåŠ¡å™¨ï¼Œâš ï¸éœ€è¦ç½‘ç»œ**

```sh
# å…ˆå®‰è£…ntpdate
yum install -y ntpdate

# ubuntuå®‰è£…
apt install -y ntpdate

# æœ€åæ‰§è¡ŒåŒæ­¥æŒ‡ä»¤
ntpdate ntp.aliyun.com
```

### 3.4ã€timedatectlæŸ¥çœ‹ä¸ä¿®æ”¹æ—¶åŒº

```sh
# å•ç‹¬è¿è¡ŒæŸ¥çœ‹æ—¶é—´ä¿¡æ¯
timedatectl

# ä¿®æ”¹æ—¶åŒº
timedatectl set-timezone Asia/Shanghai
```

## 4ã€è§£åŒ…å‹ç¼©åŒ…

>æ‰“åŒ…å‹ç¼©æœ¬è´¨å°±æ˜¯å‹ç¼©
>å¤‡ä»½é€šè¿‡æ‰“åŒ…å‹ç¼©å®ç°å³å¯
>æ‰“åŒ…ç›¸å½“äºæ˜¯æŠŠæ–‡ä»¶ç›®å½•æ”¾åœ¨ä¸€èµ·(è‹¹æœæ”¾åœ¨ç­é‡Œ)
>å‹ç¼©:å‹ç¼©ç©ºé—´èŠ‚çº¦ç©ºé—´





| æ‰“åŒ…å‹ç¼© çš„å‘½ä»¤                                              | åº”ç”¨åœºæ™¯                                                     |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| tarå‘½ä»¤                                                      | linuxæ—¥å¸¸æ‰“åŒ…å‹ç¼©ä¼˜å…ˆä½¿ç”¨tar                                 |
| tar åˆ›å»º å‹ç¼©åŒ…                                              | zcvf                                                         |
| væ˜¾ç¤ºè¿‡ç¨‹,æœªæ¥å¯ä»¥çœç•¥. z(ä½¿ç”¨gzipå·¥å…·å‹ ç¼©) c(create æ‰“åŒ…) f (file æŒ‡å®šå‹ç¼©åŒ…) |                                                              |
| tar zcvf /backup/etc.tar.gz /etc/ zcvfç®€å†™ä¸ºzcf              |                                                              |
| æŸ¥çœ‹                                                         | tar tf å‹ç¼©åŒ… #liståˆ—è¡¨                                      |
| è§£å‹                                                         | tar xf å‹ç¼©åŒ… #extract è§£å‹                                  |
| è§£å‹åˆ°æŒ‡ å®šç›®å½•                                              | tar xf å‹ç¼©åŒ… -C ç›®å½•                                        |
| zip/unzip                                                    | zipæ ¼å¼å‹ç¼©åŒ…ä¸€èˆ¬ç”¨äºwindowså’Œlinuxäº’ ä¼ æ–‡ä»¶ä½¿ç”¨. æœªæ¥æˆ‘ä»¬è¾ƒå°‘åœ¨linuxåˆ›å»ºzipå‹ç¼©åŒ…,æ›´å¤šçš„ æ˜¯é€šè¿‡unzipè§£å‹zipå‹ç¼©åŒ…. |
| gzip                                                         | ä¸ç‰¹å®šæŒ‡å®šç»„åˆ. å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œæ³¨é‡Šæ“ä½œ.                      |

### 4.1ã€taråŒ…

#### 4.1.1ã€tarå‹ç¼©åŒ…

```sh
#ç»™/etc/ç›®å½•æ‰“åŒ…å‹ç¼© æ”¾åœ¨/backup/etc.tar.gz
tar zcvf /backup/etc.tar.gz /etc/

tar zcf /backup/etc.tar.gz /etc/
```

#### 4.1.2ã€taræŸ¥çœ‹å‹ç¼©åŒ…

```sh
tar ztvf /backup/etc.tar.gz
tar tf /backup/etc.tar.gz
```

#### 4.1.3ã€tarè§£å‹åŒ…

```sh
tar xf /backup/etc.tar.gz
```

#### 4.1.4ã€tarè§£å‹åŒ…åˆ°æŒ‡å®šç›®å½•

```sh
tar xf /backup/etc.tar.gz -C /opt/
```



### 4.2ã€unzipåŒ…

#### 4.2.1ã€unzipè§£å‹  

```sh
unzip xxxxx.zip
```

#### 4.2.1ã€zipå‹ç¼©

```
zip -qr /backup/etc.zip /etc/

-rå‹ç¼©ç›®å½•
-qä¸è¦è¾“å‡º
```



**æ ¸å¿ƒtarå‘½ä»¤(zcf,tf,xf,-C),unzipè§£å‹**  





## 5ã€ä»Šæ—¥å·¥ä½œæ€»ç»“

- æ–‡ä»¶(å±æ€§,æ•°æ®) inode,block
- æ–‡ä»¶ç±»å‹:file,dir,link
- è½¯è¿æ¥,ç¡¬é“¾æ¥,è½¯ç¡¬è¿æ¥åŒºåˆ«
- æ—¶é—´,æ‰“åŒ…å‹ç¼©  

