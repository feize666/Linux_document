## 1.日常工作总结

### 1.1 日常复盘                                                                                                                                                                                                                                                              

- 远程连接失败：三部曲（使用于各种服务无法连接与访问）

  - 1️⃣ ping命令查询网络连接状态

  - 2️⃣ telnet查询ip和端口，如果访问不到说明ssh有问题

  - 3️⃣ 检查防火墙

- ping检查虚机是否可以访问公网，因为需要访问公网下载资源

- ip分类和端口的概念

- linux核心命令

  - mkdir、touch创建目录和文件
  - cd、pwd进入文件目录下，查看当前位置
  - rm 删除文件或目录
  - ls ll 查看目录下的数据信息
  - 目标1：初期，可以根据说明描述可以明白命令的并运用命令，可以根据笔记练习
  - 目标2：提升，根据说明描述不看笔记可以操作命令和看懂它的作用

- 如何记忆：1️⃣费曼学习法 2️⃣找知识点 3️⃣找人讲解 4️⃣再准备 5️⃣精简

- 安装ubt和rocky系统

  


### 1.2 今日工作内容

- 快捷键
- 关机重启命令
- vi/vim指令
- cp/mv/echo
- 软件包/防火墙/命令行颜色



## 2.Linux快捷键

### 2.1 常用快捷键

| 常用快捷键名称 | 说明                         |      |
| -------------- | ---------------------------- | ---- |
| ctrl+c         | 取消当前操作                 |      |
| ctrl+l         | 清屏                         |      |
| Tab            | 自动补全命令或路径           |      |
| ctrl+a         | 光标移动到行首               |      |
| ctrl+e         | 光标移动到行尾               |      |
| ctrl+u         | 行尾删除到行首(也是内容剪切) |      |
| ctrl+y         | 粘贴,可以和ctrl一起使用      |      |
| ctrl+k         | 从光标所在位置清空至行末     |      |
| esc+句号       | 调用上次的路径               |      |

### 2.2 容易被坑的快捷键

| 按键           | 说明                    |      |
| -------------- | ----------------------- | ---- |
| ctrl+s         | 锁屏                    |      |
| ctrl+q或ctrl+c | 解锁                    |      |
| ctrl+z         | 后台挂起,执行fg命令使用 |      |



## 3.关闭重启指令

- ⚠️正式环境,不用进行重启操作

| 作用   | 命令               | 说明                              |      |
| ------ | ------------------ | --------------------------------- | ---- |
| `关机` | shutdown -h 10     | 定时,10分钟后关机,                |      |
|        | shutdown -h 0或now | 直接关机                          |      |
|        | halt               | 关闭系统,还需要手动按下开关       |      |
|        | poweroff           | 直接正常关机                      |      |
|        |                    |                                   |      |
| `重启` | shutdown -r 10     | 定时,10分钟后重启( -r === reboot) |      |
|        | shutdown -r 0或now | 直接重启                          |      |
|        | reboot             | 直接重启                          |      |
|        | init 6             |                                   |      |
|        |                    |                                   |      |
| `取消` | shutdown -c        | 取消定时关机                      |      |
|        |                    |                                   |      |





## 4.vi-vim指令

- vi是linux系统默认安装的编辑器
- vim是升级版,功能与vi一致,有其他功能,必装!

### 4.1基本用法

作用是编辑文件,修改文件,保存退出

```sh
# 1.编辑文件
vim /test/t1.txt

# 2.进入编辑模式
按i键进入

# 3.修改内容
输入要修改的内容

# 4.退出
esc

# 5.保存
:wq
# 6.不保存退出
q!
# 7.强制保存退出
wq!


# 8.查看文件内容
cat
```

### 4.2 快捷键

方便操作,更有效率

#### 4.2.1创建模拟环境

```sh
mkdir -p /oldboy/
cat /etc/sysconfig/network-scripts/ifcfg-ens33 /etc/ssh/sshd_config > /oldboy/test.txt
```



#### 4.2.2 快捷键的运用场景

| 作用        | 指令                                                         | 说明                                   |
| ----------- | ------------------------------------------------------------ | -------------------------------------- |
| `移动`      | hjkl 或 方向键                                               | 上下左右                               |
|             | 数字1+G 或随机数字+G                                         | 去第一行或者其他行                     |
|             |                                                              |                                        |
| `搜索`      | /+内容  n向下 N向上                                          | 搜索内容,并进行上下翻页                |
|             |                                                              |                                        |
| `复制`      | 1️⃣ yy<br />2️⃣ 3yy                                              | 复制当前行<br />复制3行                |
| `粘贴`      | 1️⃣ p<br />2️⃣ 3p                                                | 粘贴1次<br />粘贴3次                   |
| `删除`      | 1️⃣ dd<br />2️⃣ 10dd<br />3️⃣在当前位置按D                         | 删除一行<br />删除10行<br />删除到行尾 |
|             |                                                              |                                        |
| `显示行号`  | :set nu                                                      | 显示行号                               |
|             | :set nonu                                                    | 取消显示                               |
|             |                                                              |                                        |
| `行首/行尾` | ^或0                                                         | 行首                                   |
|             | $                                                            | 行尾                                   |
|             |                                                              |                                        |
| `撤销`      | u                                                            | 错误操作可以按u返回上一次操作          |
|             |                                                              |                                        |
| `批量操作`  | 1.定位到你要操作的行<br />2.按大写V进入视图模式<br />3.上下调整选择行数<br />4.进行复制 按y键<br />5.找到需要粘贴的位置按p键 | 批量复制多行                           |
|             | 123步骤如上,只需要在最后一步按dd键即可                       | 批量删除多行                           |
|             | 1.定位到你要操作的行<br />2.ctrl+v进入视图模式<br />3.上下左右选择范围<br />4.按d删除<br />5.esc退出 | 批量删除开头的#或其他内容              |
|             | 123步骤如上<br />4.按大写的I进入编辑模式<br />5.输入添加的内容(空格/数字/字母等等)<br />6.按esc退出 | 批量在开头添加#或空格再或其他内容      |



指令大全

| 命令模式      |                                                              |
| ------------- | ------------------------------------------------------------ |
| 命令          | 解释                                                         |
| h j k l       | 左下上右                                                     |
| 方向键        | 上下左右                                                     |
| 1G、nG        | n代表一个数字，去第1行或n行                                  |
| gg            | 将光标定位到文章的顶端                                       |
| G             | 将光标定位到文章的底端 （$定位光标到行尾，0和^定位光标到行首） |
| x，X          | 向后删除，向前删除一个字符                                   |
| dd ，  ndd    | 删除1行，n行   。 例子：dgg dG  d$ d0 D                      |
| yy，nyy       | 复制1行，n行                                                 |
| p，P          | 粘贴到下一行，粘贴到上一行                                   |
| u             | 撤销                                                         |
| ZZ            | 保存退出                                                     |
| **末行模式**  |                                                              |
| w             | 保存                                                         |
| q             | 退出                                                         |
| wq            | 退出并保存                                                   |
| q！           | 强制退出                                                     |
| x             | 保存退出                                                     |
| set nu        | 设置行号                                                     |
| set nonu      | 取消行号                                                     |
| ：w /newfile  | 另存为其他文件       例子：":w /man.txt"                     |
| ：r /newfile  | 读取/newfile到本文件中   例子：     ":r  /etc/passwd"        |
| ：！  command | vim编辑过程中，查询linux  ":! ls /"                          |
| :  e！        | 重新读取文件                                                 |
| **命令模式**  | 从命令模式进入插入模式的方法                                 |
| a             | 字符后进入插入模式                                           |
| i             | 当前字符位置进入插入模式                                     |
| o             | 在下一行新创建一行进入插入模式                               |
| A             | 在行尾进入插入模式                                           |
| I             | 在行首进入插入模式                                           |
| O             | 在上一行新创建一行进入插入模式                               |
| s             | 删除光标位置字符并进入插入模式                               |
| S             | 删除光标所在行并进入插入模式                                 |
| **其他模式**  |                                                              |
| ：            | 末行模式                                                     |
| v、V或Ctrl+V  | 可视模式                                                     |
| R             | 替换模式                                                     |
| /word，？word | /向下查找，？向上查找                                        |
| n，N          | 定位到下一个匹配字符，定位到上一个匹配字符                   |



#### 4.2.3 故障处理

根据报错提示可以看出此文件已打开,根据提示删除`.文件名.swp`的文件即可

![image-20250425144352863](assets\image-20250425144352863.png)



## 5.cp和mv组合

### 5.1 cp和mv的使用

| 作用         | 指令                    | 说明                              |
| ------------ | ----------------------- | --------------------------------- |
| `复制(copy)` | `cp /test/1t.txt /etc/` | 复制文件到指定位置                |
|              | -r                      | 复制目录                          |
|              | -p                      | 保持属性不变                      |
|              | -a                      | 软连接 -a === -r -p -d(软连接)    |
|              |                         |                                   |
| `移动(move)` | `mv /test/1t.txt /etc/` | 移动搬家文件到指定为止,相当于剪切 |

### 5.2 cp(copy)

#### 5.2.1 复制文件到指定目录下

```sh
# 复制/etc/hostname到/test/目录下面
# 绝对路径
cp /etc/hostname /test

#相对路径,需要先进入到目标目录
cd /test
cp /etc/hostname .
```

#### 5.2.2 复制目录

```sh
# 复制/etc/目录到/test/目录下面
# 绝对路径
cp -r /etc/ /test

# 相对路径
cd /test
cp -r /etc.
```

#### 5.2.3 备份目录

- 辅助的时候保持属性信息不变

```sh
# 备份/etc/目录到backup/
mkdir -p /backup/
cp -a /etc/ /backup/


```

#### 5.2.4 cp的备份与恢复

```sh
# 1.先确认,/etc/已经备份
ll  /backup/etc/hostname
# 2.修改/etc/hostname
vim  /backup/etc/hostname

# 3.通过/backup/etc/hostname 恢复/还原
mv /backup/etc/hostname /etc/hostname
```



### 5.3 mv

#### 5.3.1 mv案例

```sh
# 移动/oldboy/oldboy.txt到/tmp/

mv /test/t1.txt /tmp/
```



#### 5.3.2 mv隐藏功能



```sh
# 改名字
mv 源文件 新名字
```







## 6.echo的灵活运用

### 6.1 >/>>重定向和追加

- 重定向符号`>`（将方向重新改变），先清空然后把内容写入到文件中

```sh
echo helloword > test.txt

cat test.txt 
# 输出结果如下：
#helloword
```



- 上述方法对一些需求会不友好，所以需要追加 `>>`，将内容写入到文件末尾，之前的内容也都会被保留

```sh
echo hellodog >> test.txt
cat test.txt 
# 输出结果如下：
#helloword
#hellodog
```

![image-20250425154733093](assets\image-20250425154733093.png)

### 6.2 cat查看

```sh
# 查看
cat /etc
# 查看文件并显示行号
cat -n /etc
```



### 6.3 {}输出序列

- echo结合{}输出序列字母和数字重定向到某个文件中

```sh

# 24个英文字母
root@fz:~# echo {1..10}
1 2 3 4 5 6 7 8 9 10
root@fz:~# echo {A..z}
A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [  ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z
root@fz:~# echo {A..Z}
A B C D E F G H I J K L M N O P Q R S T U V W X Y Z
```

- 重定向保存

```sh
# 保存1~10到一个文件中
echo {1..10} > num.txt
root@fz:~# cat num.txt 
1 2 3 4 5 6 7 8 9 10

# 保存01、02~10到一个文件中
echo {01..10} > num.txt
root@fz:~# cat num.txt 
01 02 03 04 05 06 07 08 09 10

# 可以随意的拼接
root@fz:~# echo fz{01..10} > num.txt
root@fz:~# cat num.txt 
fz01 fz02 fz03 fz04 fz05 fz06 fz07 fz08 fz09 fz10
```

- 使用touch和mkdir命令搭配实现批量创建文件和目录

```sh
# 批量创建文件
root@fz:~# touch test{1..10}.txt
root@fz:~# ls
1.txt  num.txt  snap  test10.txt  test1.txt  test2.txt  test3.txt  test4.txt  test5.txt  test6.txt  test7.txt  test8.txt  test9.txt  test.txt

# 批量创建目录
root@fz:~# mkdir test{1..10}
root@fz:~# ls
1.txt  num.txt  snap  test1  test10  test2  test3  test4  test5  test6  test7  test8  test9
```

- 不同内容使用逗号分隔

```
touch test{a,z,1,3d}.txt
```



## 7.文档与画图



- 笔记+体系+知识库（快速找到你要的内容【过滤+查找方便】），日常的备份





